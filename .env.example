# =============================================================================
# KIULI ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.local and fill in the values.
# See docs/LOCAL_SETUP.md for detailed setup instructions.
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (Required)
# -----------------------------------------------------------------------------
# Vercel Postgres connection string
# Get from: Vercel Dashboard > Storage > Postgres > Connect
POSTGRES_URL=postgresql://user:password@host:5432/database

# -----------------------------------------------------------------------------
# PAYLOAD CMS (Required)
# -----------------------------------------------------------------------------
# JWT encryption key - generate with: openssl rand -base64 32
PAYLOAD_SECRET=your-secret-key-here

# Server URL for CORS and link generation (no trailing slash)
NEXT_PUBLIC_SERVER_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# AUTHENTICATION SECRETS (Required for production)
# -----------------------------------------------------------------------------
# Secret for Vercel cron job authentication
CRON_SECRET=your-cron-secret-here

# Secret for draft preview mode
PREVIEW_SECRET=your-preview-secret-here

# API key for programmatic Payload access (Lambda pipeline)
PAYLOAD_API_KEY=your-api-key-here

# Scraper endpoint authentication
SCRAPER_API_KEY=your-scraper-key-here

# -----------------------------------------------------------------------------
# AWS CREDENTIALS (Required for S3/Lambda)
# -----------------------------------------------------------------------------
# IAM user credentials with S3 and Lambda permissions
# Get from: AWS Console > IAM > Users > Security credentials
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=eu-north-1

# -----------------------------------------------------------------------------
# S3 STORAGE (Required for media uploads)
# -----------------------------------------------------------------------------
S3_BUCKET=kiuli-bucket
S3_REGION=eu-north-1
# Optional: Override AWS credentials for S3 specifically
# S3_ACCESS_KEY_ID=...
# S3_SECRET_ACCESS_KEY=...

# -----------------------------------------------------------------------------
# CDN (Required for image optimization)
# -----------------------------------------------------------------------------
# imgix domain for optimized image delivery
IMGIX_DOMAIN=kiuli.imgix.net

# iTrvl CDN fallbacks (used by Lambda pipeline)
ITRVL_IMAGE_CDN_BASE=https://itrvl-production-media.imgix.net
ITRVL_VIDEO_CDN_BASE=https://cdn-media.itrvl.com/video/hls

# -----------------------------------------------------------------------------
# AI SERVICES (Optional - for content enhancement)
# -----------------------------------------------------------------------------
# OpenRouter API key for image labeling (Nemotron via OpenRouter)
# Get from: https://openrouter.ai/
OPENROUTER_API_KEY=sk-or-v1-...

# -----------------------------------------------------------------------------
# LAMBDA FUNCTION ARNs (Production only)
# -----------------------------------------------------------------------------
# These are set in Lambda console environment variables, not locally
# LAMBDA_SCRAPER_URL=https://xxx.lambda-url.eu-north-1.on.aws/
# LAMBDA_IMAGE_PROCESSOR_ARN=arn:aws:lambda:eu-north-1:xxx:function:kiuli-v6-image-processor
# LAMBDA_LABELER_ARN=arn:aws:lambda:eu-north-1:xxx:function:kiuli-v6-labeler
# LAMBDA_FINALIZER_ARN=arn:aws:lambda:eu-north-1:xxx:function:kiuli-v6-finalizer
# LAMBDA_VIDEO_PROCESSOR_ARN=arn:aws:lambda:eu-north-1:xxx:function:kiuli-v6-video-processor
